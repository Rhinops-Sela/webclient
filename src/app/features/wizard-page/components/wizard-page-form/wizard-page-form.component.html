<form [formGroup]="wizardPageForm" (ngSubmit)="submit()">
  <div *ngFor="let input of wizardPageUserInputs; let i = index">
    <div class="center-components">
      <div *ngIf="allowInputShown('PASSWORD', i, input)">
        <app-form-password-input
          formControlName="PASSWORD{{ i }}"
          placeholder=""
          label="{{ input.displayName }}"
        ></app-form-password-input>
      </div>

      <div *ngIf="allowInputShown('NUMBER', i, input)">
        <app-form-number-input
          formControlName="NUMBER{{ i }}"
          label="{{ input.displayName }}"
          placeholder=""
        ></app-form-number-input>
      </div>

      <div *ngIf="allowInputShown('MULTI_SELECT', i, input)">
        <app-form-select-input
          label="{{ input.displayName }}"
          formControlName="MULTI_SELECT{{ i }}"
          isMultiple="true"
          [options]="input.userValueTypeValues"
        ></app-form-select-input>
      </div>

      <div *ngIf="allowInputShown('STRING', i, input)">
        <app-form-text-input
          class="input"
          formControlName="STRING{{ i }}"
          placeholder=""
          label="{{ input.displayName }}"
        ></app-form-text-input>
      </div>

      <div *ngIf="allowInputShown('SELECT', i, input)">
        <app-form-select-input
          label="{{ input.displayName }}"
          formControlName="SELECT{{ i }}"
          [options]="input.userValueTypeValues"
        ></app-form-select-input>
      </div>
    </div>

    <div
      *ngIf="allowInputShown('CHECKBOX', i, input) && !input.subGroupEnabler"
    >
      <app-form-checkbox-input
        label="{{ input.displayName }}"
        formControlName="CHECKBOX{{ i }}"
        enabler="{{ false }}"
        subGroup="{{ input.subGroup }}"
        (onChecked)="handelCheckbox($event)"
      ></app-form-checkbox-input>
    </div>

    <div *ngIf="input.subGroupEnabler">
      <app-form-checkbox-input
        label="{{ input.displayName }}"
        formControlName="CHECKBOX{{ i }}"
        subGroup="{{ input.subGroup }}"
        enabler="{{ true }}"
        (onChecked)="handelCheckbox($event)"
      ></app-form-checkbox-input>
    </div>

    <div *ngIf="allowInputShown('ARR_STRING', i, input)">
      <app-form-text-area-input
        formControlName="ARR_STRING{{ i }}"
        placeholder=""
        label="{{ input.displayName }}"
      >
      </app-form-text-area-input>
    </div>
    <i
      *ngIf="input.toolTip && input.isVisible"
      class="fas fa-question-circle"
      tooltip="{{ input.toolTip }}"
      [delay]="500"
      placement="right"
    ></i>
  </div>

  <div class="actions">
    <button
      type="button"
      class="btn btn-info"
      (click)="onRepeat()"
      *ngIf="repeatable"
    >
      repeat
    </button>
    <button
      type="button"
      class="btn btn-warning"
      *ngIf="!isFirstPage"
      (click)="previous()"
    >
      Previous
    </button>
    <button type="submit" class="btn btn-success">
      {{ isLastPage ? "Finish" : "Next" }}
    </button>
  </div>
</form>

<alert *ngIf="errors?.length > 0" type="danger">
  <div *ngFor="let error of errors">
    <strong>{{ error }}</strong>
  </div>
</alert>
